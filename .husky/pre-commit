#!/usr/bin/env sh

# コミット前にテストとフォーマットチェックを実行
echo "🧪 コミット前のテストを実行しています..."

# lint-stagedを実行（ステージされたファイルのみをチェック）
npx lint-staged

# 結果を確認
if [ $? -ne 0 ]; then
  echo "❌ テストまたはフォーマットチェックが失敗しました。"
  echo "修正してから再度コミットしてください。"
  exit 1
fi

echo "✅ すべてのチェックが成功しました！"